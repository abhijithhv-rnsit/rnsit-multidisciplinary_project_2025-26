<!DOCTYPE html>
<html>
<head>
    <title>Student Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-primary px-3">
    <span class="navbar-brand">RNSIT Multidisciplinary Project 2025â€“26</span>
    <a href="/student/logout" class="btn btn-light btn-sm">Logout</a>
</nav>

<div class="container mt-4">
    <h4 class="mb-3">Welcome, {{ session.student_usn }}</h4>

    <div class="row">
        {% for p, count in problems %}
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h6 class="card-title">{{ p["title"] }}</h6>
                    <p class="text-muted small">
                        Category: {{ p["category"] }}<br>
                        Difficulty: {{ p["difficulty"] }}
                    </p>

                    {% if count >= p["max_teams"] %}
                        <button class="btn btn-secondary btn-sm w-100" disabled>
                            Registration Full
                        </button>
                    {% else %}
                        <a href="/register/{{ p['id'] }}" class="btn btn-primary btn-sm w-100">
                            Register Team
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

</body>
</html>
